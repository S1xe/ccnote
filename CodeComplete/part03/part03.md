#### chapter10

P239

保持诚实

P241

避免初始化错误的建议

- 在声明变量的时候初始化
- 在靠近变量第一次使用的位置初始化
- 理想情况下,在靠近第一次使用变量的位置声明和定义该变量
- 在可能的情况下使用final或const
- 特别注意计数器和累加器
- 在类的构造函数里初始化该类的数据成员
- 检查是否需要重新初始化
- 一次性初始化具常量;用可执行代码来初始化变量
- 使用编译器设置来自动初始化所有变量
- 利用编译器的警告信息
- 检查输入参数的合法性
- 使用内存访问检查工具来检查错误的指针
- 在程序开始时初始化工作内存

P245

计算变量跨度(span):对一个变量引用的集中程度

```
例1
a=0
b=0
c=0
a=b+c
//那么,a的跨度是2,b的跨度是1,c的跨度是0
```
```
例2
a=0
b=0
c=0
b=a+1
b=b/c
//b的跨度为(1+0)/2,第一次对b引用和第二次对b引用分别为1,0
```

P246

变量存活时间:开始于引用他的第一条语句,结束于引用他的最后一条语句

P253

变量与数值绑定的时间

- 编码时(magic number)
- 编译时(named constant)
- 加载时
- 对象实例化
- 即时

P255

为变量指定单一用途

- 每个变量只用于单一用途
- 避免让代码具有隐含含义
- 确保使用了所有已声明的变量

P257

**核对表:使用数据的一般事项**

---

#### chapter11

P260

最重要的命名注意事项

要完全、准确地描述出该变量所代表的事物.

对变量的描述就是最佳变量名

P264

常用的对仗词

- begin/end
- first/last
- locked/unlocked
- min/max
- next/previous
- old/new
- opened/closed
- visible/invisible
- source/target
- source/destination
- up/down

P268

为布尔变量命名

- 典型的布尔变量名
    - done
    - error
    - found
    - success/ok
- 给布尔变量赋予隐含"真/假"含义的名字
- 使用肯定的布尔变量名

P283

有关缩写

- 不要从每个单词中删除一个字符的方式来缩写
- 缩写要一致
- 创建你能读出来的名字
- 避免使用容易看错或读错的字符组合
- 使用辞典来解决冲突
- 在代码里用缩写对照表解释极短的名字的含义
- 在一份项目级的"标准缩写"文档中说明所有的缩写
- 记住,名字对于代码读者的意义要比作者更重要

P288

**核对表:变量命名**

---

#### chapter12

P292

数值概论

- 避免使用神秘数值(magic number)
    - 修改变得更可靠
    - 修改变得更容易
    - 代码更可读
- 如果需要,可以使用硬编码的0和1
    - 最好代码主体仅能出现的文字量就是0和1
    - 任何其他文字量都应该换成更有描述性的表示
- 预防除零错误
- 使类型转换变得明显
- 避免混合类型的比较
- 注意编译器的警告

P293

整数

- 检查整数除法
- 检查整数溢出
- 检查中间结果溢出

P295

浮点数

- 避免数量级相差巨大的数之间的加减运算
- 避免等量判断
- 处理舍入误差的问题
    - 换精确度更高的变量类型
    - 换二进制编码的十进制
    - 把浮点数量变成整数变量
- 检查语言和函数库对特定数据类型的支持

P314

自定义类型

- 易于修改
- 避免过多的信息分发
- 增加可靠性
- 弥补语言的不足

P316

**核对表:基本数据类型**

---

#### chapter13

结构体

- 明确数据关系
- 简化对数据块的操作
- 简化参数列表
- 减少维护

P325

指针技巧

- 把指针操作限制在子程序或者类里面
- 同时声明和定义指针
- 在与指针分配相同的作用域中删除指针
- 在使用指针之前检查指针
- 先检查指针所引用的变量再使用它
- 用狗牌字段监测被损毁的内存    

    `标记字段（tag field）或狗牌（dog tag） `

- 增加明显的冗余
- 用额外的指针变量提高代码清晰度
- 简化复杂的指针表达式
- 画一个图
- 按照正确的顺序删除链表中的指针
- 分配一片保留的内存后背区域
- 粉碎垃圾数据
- 在删除或者释放指针之后把它们设为空值
- 在删除变量之前检查非法指针
- 跟踪指针分配情况
- 编写覆盖子程序，集中实现避免指针问题的策略
- 采用非指针的技术

P343

**核对表:使用不常见数据类型的注意事项**

`不常见数据类型只是相对，类、结构体用得其实并不少`

---