#### chapter31

P732

格式化的基本原理,好的布局凸现程序的逻辑结构

P733

编程工作量的小部分是写让机器读的程序,大部分工作是写能让他人看懂的程序

P735

良好布局的目标

- 准确表现代码的逻辑结构
- 始终如一地表现代码的逻辑结构
- 改善可读性
- 经得起修改

P736

布局技术

- 空白

    - 分组
    - 空行
    - 缩进

- 括号

P738

布局风格

- 纯块结构
- 模仿春快结构
- 使用"begin-end"对(花括号)指定边界
- 行尾布局

P747

其他考虑

- 段落之间要空行
- 单语句代码块的格式要前后统一
- 对复杂的表达式,将条件分隔放在几行上
- 不用goto
- case语句不要有行位布局的例外

P761

数据声明的布局

- 每行只声明一个数据
- 变量声明应尽量接近其首次使用的位置
- 合理组织声明顺序

P764

注释的布局

- 注释的缩进要与相应代码一致
- 每行注释至少一个空行分开

P766

子程序的布局

- 用空行分隔子程序的各部分
- 将子程序参数按标准缩进

P768

类的布局

- 类接口的布局

    1. 说明类及其完整用法的头部注释
    2. 构造函数与西沟函数
    3. public子程序
    4. protected子程序
    5. private子程序和数据成员

- 类实现的布局

    1. 描述类所在文件之内容的头部注释
    2. 类数据
    3. public子程序
    4. protected子程序
    5. private子程序和数据成员

- 如果文件包含多个类,要清楚地标出每一个类

- 不要在类内过度注释

P771

文件和程序布局

- 一个文件应只有一个类
- 文件命名应与类名有关
- 在文件中清晰地分隔各子程序
- 按字母顺序排列子程序

P773

C++源文件内容的典型顺序

1. 文件的描述性注释
2. #include文件行
3. 在多个类里使用的常量定义
4. 在多个类里使用的枚举
5. 宏函数定义
6. 在多个类里使用的类型定义
7. 导入的全局变量和函数
8. 导出的全局变量和函数
9. 本文件私用的变量和函数
10. 各个类,包括各个类中的常量定义、枚举及类型定义

P773

**核对表:布局**

---

#### chapter32

P780

**核对表:自说明代码**

P786

注释种类

- 重复代码
- 解释代码
- 代码标记
- 概述代码
- 代码意图说明

P788

高效注释

- 采用不会打断或抑制修改的注释风格
- 用伪代码编程法减少注释时间
- 将注释集成到你的开发风格中
- 性能不是逃避注释的好借口

P792

注释技术

- 注释单行

    - 不要随意添加无关注释

- 行尾注释及其问题

    - 影响视觉
    - 难以格式化
    - 维护困难
    - 不要对单行代码做行尾注释
    - 不要对多行代码做行尾注释

- 何时该用行尾注释

    - 行尾注释用于数据声明
    - 避免用行尾注释存放维护注记
    - 用行尾注释标记尾块(if,while)

- 注释代码段

    - 注释应表达代码意图
    - 代码本身应尽力做好说明
    - 注释代码应注重"为何做(why)"而不是"怎么做(how)"
    - 用注释为后面的内容做铺垫
    - 让每个注释都有用
    - 说明非常规做法
    - 别用缩略语
    - 将主次注释区分开
    - 错误或语言环境独特点都要加注释
    - 给出违背良好编程风格的理由
    - 不要注释投机取巧的代码,应重写之

- 注释数据说明

    - 注释数值单位
    - 对数值的允许范围给出注释
    - 注释编码含义
    - 注释对输入数据的限制
    - 注释"位标志"
    - 将变量有关的注释通过变量名关联起来
    - 注释全局数据

- 注释控制结构

    - 应该在每个if,else,循环或代码段前加上注释
    - 应在每个控制结构后加上注释
    - 将循环结束处的注释看成是代码太复杂的征召

- 注释子程序

    - 注释应靠近其说明的代码
    - 在子程序上部用一两句话说明纸
    - 在声明参数处注释这些参数
    - 利用诸如Javadoc之类的代码说明工具
    - 分清输入和输出数据
    - 注释接口假设
    - 对子程序的局限性作注释
    - 说明子程序的全局效果
    - 记录所用算法的来源
    - 用注释标记程序的各部分

- 注释类、文件和程序

    - 注释类的一般原则

        - 说明该类的设计方法
        - 说明局限性、用法假设等
        - 注释类接口
        - 不要在类接口说明实现细节

    - 注释文件的一般原则

        - 说明各文件的意图和内容
        - 将姓名、电子邮件及电话号码放到注释中
        - 包含版本控制标记
        - 请在注释块中包含法律通告(license)
        - 将文件命名为与其内容相关的名字

    - 程序注释以书本未返利

        - 序
        - 目录
        - 节
        - 交叉引用

P816

**核对表:好的注释技术**

---

#### chapter33

P820

个人性格对于造就出程序员高手更具有决定性意义

---